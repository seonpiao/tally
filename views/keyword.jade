extends layout
block append head
  title 记账
  link(type="text/css",rel="stylesheet",href="/css/keyword.css")

block append header
  include ../client/modules/headbar/index

block append content
  ul.keywords
    - keywords.sort(function(a,b){return b.count - a.count})
    for item in keywords
      li.item
        a(href="/cost/" + item.keyword + '/' + item.category)= item.keyword
  include ../client/modules/add_keyword/index
  script.
    var $select = document.getElementById('category');
    $select.onchange = function(){
      if($select.value === '新分类'){
        setTimeout(function(){
          var category = prompt('输入分类名').trim();
          if(category){
            var option = document.createElement('option');
            option.innerText = category;
            option.value = category;
            setTimeout(function(){
              $select.appendChild(option);
              $select.selectedIndex = $select.options.length - 1;
            },0);
          }
        });
      }
    };

block append footer
  script(type='text/javascript',src="/js/common/main.js")
  script(type='text/javascript',src="/js/keyword/main.js")
